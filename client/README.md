## Client (React frontend)

This directory contains the **React frontend source code**. In production it is deployed as a **static site on GitHub Pages**. The frontend:

- Authenticates users via **Supabase Auth** (anon key).
- Calls the **Flask API on Render** over HTTPS.
- Renders images by loading URLs (often R2 URLs) returned by the backend.

### Source vs build output

- **Source**: everything in `client/` (especially `src/` and `public/`)
- **Build output**: `client/build/` (generated by `npm run build`) — this is what gets deployed to GitHub Pages

### Local development

1) Install dependencies:

```bash
npm install
```

2) Create your local env file:

```bash
cp env.example .env.local
```

3) Edit `client/.env.local` and set:

- `REACT_APP_SUPABASE_URL`
- `REACT_APP_SUPABASE_ANON_KEY`
- **Backend API base URL** (choose one):
  - `REACT_APP_API_BASE_URL` (preferred): e.g. `http://localhost:5001`
  - `REACT_APP_API_URL` (legacy): e.g. `http://localhost:5001/api`

4) Start the dev server:

```bash
npm start
```

### Production build (GitHub Pages)

Build the static site:

```bash
npm ci
npm run build
```

Deploy **only** `client/build/` to GitHub Pages. Any `REACT_APP_*` settings must be present at build time (they are baked into the static bundle).

### Common issue: “Missing Supabase environment variables”

If you see a Supabase env error in the browser console, `REACT_APP_SUPABASE_URL` / `REACT_APP_SUPABASE_ANON_KEY` is missing (or the dev server was not restarted after setting them).